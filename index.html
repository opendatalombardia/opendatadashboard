<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ODLombardia dashboard</title>

    <!-- Bootstrap -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Bootstrap Core CSS -->
  <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="css/dashboard.css" rel="stylesheet">



  </head>
  <body id="pagina">
    <div class="container">
      <div class="row">
        <h3>Dashboard dei dataset più visti del sito http://dati.lombardia.it</h3>
          <p>Questa pagina visualizza il numero di righe dei dataset più visti del sito http://dati.lombardia.it. In particolare per ogni dataset, al quale è associato un ID, viene eseguita la seguente funzione
            <pre>
getData(
        "https://www.dati.lombardia.it/resource/" + datasets[i].id,
        "$select=count(*)",
        ("div.row"),
        datasets[i].name
        );
</pre>
            La funzione <code>$select=count(*)</code> conta il numero di righe del singolo dataset, in linguaggio SoQL.
            <br>Questo è un esempio di query: <code>https://www.dati.lombardia.it/resource/ywm2-vqgc.json?$select=count(*)</code>
            <br>Per eseguirla non è necessaria alcuna autenticazione. L'applicazione è interamente lato client: quanto l'utente apre la pagine del browser, viene scaricato il file <code>js/querysocrata.js</code> che esegue la chiamata ed effettua il conteggio.
            <br><strong>Docs</strong>: Api e documentazione sono sul sito di Socrata, <a href="https://dev.socrata.com/docs/queries/">disponibili a questo indirizzo</a>
          </p>
      </div>
    </div>
    <div class="container">
      <div class="row">
    </div>
    <script type="text/javascript" src="js/jquery.js"></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/querysocrata.js"></script>
<!--    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>-->
  </body>
</html>
